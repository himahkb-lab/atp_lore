const events = [
  {
    year: "1986–2005",
    title: "Создание и стабильность зоны",
    content: [
      "Зона ограничения доступа была создана после аварии и находилась под военным контролем. В течение двух десятилетий территория оставалась сравнительно стабильной: маршруты передвижения, инфраструктура и границы зоны мало менялись, несмотря на постепенное разрушение и заброшенность.",
      "Доступ внутрь был ограничен, несанкционированных проникновений почти не фиксировалось."
    ]
  },
  {
    year: "2006–2010",
    title: "Появление нестабильных участков",
    content: [
      "Начиная с 2006 года на территории зоны стали фиксироваться локальные нестабильности и участки, где техника и оборудование функционировали ненадёжно, а рельеф изменялся без очевидных причин.",
      "Активность проникновения и нелегальной деятельности внутри зоны возросла, что привело к росту конфликтов и ухудшению общего контроля."
    ]
  },
  {
    year: "2011–2012",
    title: "Изменения конфигурации территории",
    content: [
      "Весной 2011-го произошёл крупный энергетический выброс, который существенно изменил конфигурацию известных территорий, сделав многие маршруты непроходимыми или крайне опасными.",
      "В этот период усилились попытки проникновения к центру зоны — часть прежних барьеров была устранена, но контроль над центральной территорией по-прежнему оставался невозможен."
    ]
  },
  {
    year: "2013",
    title: "Событие «Пульс»",
    content: [
      "14 марта 2013 года произошло крупное подземное событие — мощный геологический толчок, получивший условное название «Пульс».",
      "Этот толчок вызвал существенные деформации рельефа на всей территории зоны: обвалы, появление новых провалов и трещин, разрушение объектов инфраструктуры и изменение гидрологических условий.",
      "В результате Пульса значительно изменилась структура территории: исчезли прежние ориентиры и маршруты, появились новые опасные участки, ранее доступные зоны стали недоступными. Контроль и разведка по территории осложнились из-за нестабильности рельефа и затруднённой навигации."
    ]
  },
  {
    year: "2014–2015",
    title: "Фрагментация территории",
    content: [
      "После Пульса зона распалась на серию изолированных кластеров, между которыми сохранились лишь узкие и нестабильные проходы.",
      "Передвижение стало затруднено, а поддержание контроля над территориями — практически невозможным.",
      "Группировки, прежде занимавшие устойчивые позиции, потеряли значительную часть влияния, а конфликты между выжившими участниками усилились."
    ]
  },
  {
    year: "2016",
    title: "Текущая ситуация",
    content: [
      "Зона находится в состоянии постоянных изменений: новые провалы и подвижки рельефа появляются с высокой частотой, что делает картографирование и планирование маршрутов сложной задачей.",
      "Центральные районы остаются закрытыми из-за высокой нестабильности и концентрации вооружённых групп.",
      "Идут разговоры о возможности повторения подобных подземных толчков, что вызывает серьёзную обеспокоенность у всех обитателей зоны."
    ]
  }
];

// Рендер списка и назначение обработчиков
const listEl = document.getElementById("event-list");
const contentEl = document.getElementById("event-content");

function renderList() {
  events.forEach((evt, idx) => {
    const li = document.createElement("li");
    li.textContent = `${evt.year} — ${evt.title}`;
    li.dataset.index = idx;
    li.tabIndex = 0; // Чтобы можно было фокусироваться
    if (idx === 0) {
      li.classList.add("active");
      renderContent(0);
    }
    li.addEventListener("click", () => {
      setActive(idx);
    });
    li.addEventListener("keypress", (e) => {
      if (e.key === "Enter" || e.key === " ") {
        setActive(idx);
      }
    });
    listEl.appendChild(li);
  });
}

function renderContent(index) {
  const evt = events[index];
  contentEl.innerHTML = `<h2>${evt.year} — ${evt.title}</h2>` +
    evt.content.map(p => `<p>${p}</p>`).join("");
}

function setActive(index) {
  const items = listEl.querySelectorAll("li");
  items.forEach(i => i.classList.remove("active"));
  items[index].classList.add("active");
  renderContent(index);
}

renderList();
